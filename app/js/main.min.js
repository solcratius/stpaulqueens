"use strict";var STPAULQUEENS=STPAULQUEENS||{};!function(){STPAULQUEENS.namespace=function(t){var n,i=t.split("."),s=STPAULQUEENS;for("STPAULQUEENS"===i[0]&&(i=i.slice(1)),n=0;n<i.length;n+=1)"undefined"==typeof s[i[n]]&&(s[i[n]]={}),s=s[i[n]];return s}}(),STPAULQUEENS.namespace("controller"),STPAULQUEENS.controller=function(){var t=function(){var t=document.documentElement;t.setAttribute("data-useragent",navigator.userAgent),window.onload=function(){STPAULQUEENS.main.init()}};return{init:t}}(),$(document).ready(function(){STPAULQUEENS.controller.init()}),STPAULQUEENS.namespace("main"),STPAULQUEENS.main=function(t){var n,i,s,o,a,e,h,c,d,r,l,u,v,f,m,p=function(){b(),n=STPAULQUEENS.main.nav,i=STPAULQUEENS.main.landing,a.addClass("noResize"),a.addClass("noTouch");var s=window.location.hash.slice(1);if(S.init(),T.init(),_.init(),g.init(),E.init(),E.setPosId(),s){_.hash=!0;var o=t("[name="+s+"]");E.anchorAnim(o.index()+1,"#"+s)}else E.anchorAnim(0," ");n.init()},b=function(){s=t(window),o=t("html, body"),a=t("html"),e=t('body[class^="stpaul-"]'),h=t("#header"),c=h.find("ul.navigation li.section"),d=h.find(".sub-nav .sub-nav-btn"),r=t("#content"),l=r.find(".hero"),u=r.find(".sub-nav"),v=u.find("ul"),f=u.find(".sub-nav-btn"),m=r.find(".content-body .section")},S={isTouch:!1,init:function(){this.is_touch_device()&&(this.isTouch=!0,a.removeClass("noTouch"),document.addEventListener("touchstart",function(){},!0))},is_touch_device:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},T={width:0,height:0,m_view:!1,time:null,timeout:!1,delta:200,init:function(){T.width=s.width(),T.height=s.height(),v.is(":visible")?T.m_view=!1:T.m_view=!0,S.isTouch?s.on("orientationchange",this.start.bind(this)):s.on("resize",this.start.bind(this))},start:function(){this.time=new Date,T.timeout===!1&&(T.timeout=!0,a.removeClass("noResize"),setTimeout(this.end,this.delta))},end:function(){new Date-this.time<this.delta?setTimeout(this.end,this.delta):(T.timeout=!1,a.addClass("noResize"),v.is(":visible")?T.m_view=!1:T.m_view=!0,T.width=s.width(),T.height=s.height(),E.init(),E.anchorAnim(),g.p_feature())}},_={lastScrollTop:0,st:0,hash:!1,init:function(){s.on("scroll",this.start.bind(this))},start:function(){this.st=s.scrollTop(),this.st>5?r.addClass("skinny-nav"):r.removeClass("skinny-nav"),this.st>this.lastScrollTop?((this.st>E.heroH-109&&!T.m_view&&!h.hasClass("sticky-nav")&&g.id<100||this.st>E.heroH-77&&!T.m_view&&!h.hasClass("sticky-nav")&&g.id>=100||this.st>E.heroH-57&&T.m_view&&!h.hasClass("sticky-nav"))&&h.addClass("sticky-nav"),E.setPosId(this.st,"down")):((this.st<=E.heroH-108&&!T.m_view&&h.hasClass("sticky-nav")&&g.id<100||this.st<=E.heroH-76&&!T.m_view&&h.hasClass("sticky-nav")&&g.id>=100||this.st<=E.heroH-56&&T.m_view&&h.hasClass("sticky-nav"))&&h.removeClass("sticky-nav"),E.setPosId(this.st,"up")),this.lastScrollTop=this.st}},g={id:100,init:function(){var n=e.attr("class");g.id=100,c.each(function(i){var s=t(this).find('*[class^="stpaul-"]').attr("class");s==n&&(g.id=i)}),this.p_feature()},p_feature:function(){g.id>=100&&(T.m_view||l.css("height",T.height+"px"))}},E={id:0,posTop:[0],heroH:0,duration:100,velocity:1,init:function(){this.heroH=l.height(),this.setPosTop()},setPosTop:function(){E.posTop=[0],m.each(function(n){var i,s;i=T.m_view?54:108,s=t(this).position().top-i,E.posTop.push(Math.floor(s))})},setPosId:function(t,n){"down"==n?t>=this.posTop[this.id+1]&&this.id<this.posTop.length-1&&(this.id+=1):t<this.posTop[this.id]&&this.id>0&&(this.id-=1),d.removeClass("on"),f.removeClass("on"),this.id<=0?f.addClass("on"):d.eq(this.id-1).addClass("on")},anchorAnim:function(t,n){void 0==t?(t=this.id,this.duration=100):(this.velocity=Math.abs(this.id-t),this.velocity<=0&&(this.velocity=1),this.duration=this.velocity>2?250*this.velocity:400*this.velocity,this.id=t),o.animate({scrollTop:this.posTop[t]},this.duration,"easeInOutCubic",function(){n&&(window.location.hash=n)})}};return{init:p,getSectID:function(){return E.id},anchorAnim:function(t,n){E.anchorAnim(t,n)}}}(jQuery),STPAULQUEENS.namespace("main.nav"),STPAULQUEENS.main.nav=function(t){var n,i,s,o,a,e,h,c,d,r,l=function(){u(),n=STPAULQUEENS.main,i=STPAULQUEENS.main.landing,v.init(),f()},u=function(){s=t("body"),o=t("#header"),a=t("#nav-toggle"),e=o.find(".navigation a"),h=o.find(".sub-nav .sprite-top-btn"),c=t("#content .sub-nav"),d=c.find(".sprite-top-btn"),r=c.find(".sub-nav-btn")},v={init:function(){a.on("click",this.nav_toggle_on.bind(this)),e.on("click",this.nav_btn_on.bind(this)),h.on("click",this.subnav_topbtn_on.bind(this)),d.on("click",this.subnav_topbtn_on.bind(this)),r.on("mouseover",this.subnav_btn_hover.bind(this)),r.on("mouseout",this.subnav_btn_hout.bind(this))},nav_toggle_on:function(t){t.preventDefault(),t.stopPropagation(),s.hasClass("nav-open")?(s.removeClass("nav-open"),o.delay(250).animate({scrollTop:0},0)):s.addClass("nav-open")},nav_btn_on:function(t){t.stopPropagation(),s.removeClass("nav-open"),o.delay(250).animate({scrollTop:0},0)},subnav_topbtn_on:function(t){t.preventDefault(),t.stopPropagation(),n.anchorAnim(0," ")},subnav_btn_hover:function(i){i.preventDefault(),i.stopPropagation(),n.getSectID()<=0&&(r.removeClass("on"),t(this).addClass("on"))},subnav_btn_hout:function(t){t.preventDefault(),t.stopPropagation(),n.getSectID()<=0&&r.addClass("on")}},f=function(){t('a[href*="#"]:not([href="#"])').on("click",function(i){if(i.stopPropagation(),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=t(this.hash);s=s.length?s:t("[name="+this.hash.slice(1)+"]"),s.length&&n.anchorAnim(s.index()+1,t(this).attr("href").split("#")[1])}})};return{init:l}}(jQuery),STPAULQUEENS.namespace("main.landing"),STPAULQUEENS.main.landing=function(t){var n,i,s,o,a,e,h,c,d,r,l,u,v=function(){f(),console.log("LANDING!!!!")},f=function(){n=t(window),i=t("html"),s=t("body"),o=t("#header"),a=t("#nav-toggle"),e=t("#content"),h=e.find(".hero"),c=e.find(".sub-nav"),d=c.find("ul"),r=c.find(".sub-nav-btn"),l=e.find(".content-body"),u=l.find(".section")};return{init:v}}(jQuery);
//# sourceMappingURL=../maps/main.min.js.map
